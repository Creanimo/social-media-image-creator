<div class="editor-sidebar wa-stack">
    {{#creation}}
    <form id="editor-settings-form" class="wa-stack">
        <wa-input type="text" name="title" value="{{title}}"></wa-input>
        <h3>Dimensions</h3>
        <wa-select name="preset" label="Presets" value="{{currentPresetName}}">
            <wa-option value="">Custom</wa-option>
            {{#presets}}
            <wa-option value="{{name}}">{{name}} ({{width}}x{{height}})</wa-option>
            {{/presets}}
        </wa-select>
        
        <div class="wa-cluster" style="margin-top: 10px; gap: 10px;">
            <wa-input type="number" name="width" label="Width" value="{{width}}" size="small" style="width: 80px;"></wa-input>
            <wa-input type="number" name="height" label="Height" value="{{height}}" size="small" style="width: 80px;"></wa-input>
        </div>

        <wa-divider></wa-divider>

        <h3>Background</h3>
        <div class="wa-stack">
            <input type="hidden" name="backgroundImageId" value="{{backgroundImageId}}" />
            {{#bgSrc}}
            <img src="{{bgSrc}}" style="width: 100%; height: 150px; object-fit: cover; border: 1px solid #eee; margin-bottom: 10px;" />
            {{/bgSrc}}
            {{^bgSrc}}
            <div style="width: 100%; height: 150px; background: #eee; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                <wa-icon name="photo" style="font-size: 2rem; color: #999;"></wa-icon>
            </div>
            {{/bgSrc}}
            
            <wa-button id="open-gallery-btn" variant="neutral">
                <wa-icon name="photo" slot="prefix"></wa-icon>
                Change from Gallery
            </wa-button>
            <wa-button id="upload-bg-btn" variant="neutral">
                <wa-icon name="upload" slot="prefix"></wa-icon>
                Upload New
            </wa-button>
            <input type="file" id="editor-bg-upload" accept="image/*" style="display: none;" />
        </div>

        <wa-divider></wa-divider>

        <!-- Layers will go here later -->

        <div class="wa-stack" style="margin-top: auto;">
            <wa-button id="back-to-creations" variant="neutral">
                <wa-icon name="arrow-left" slot="prefix"></wa-icon>
                Back to Library
            </wa-button>
        </div>
    </form>
    {{/creation}}
</div>
